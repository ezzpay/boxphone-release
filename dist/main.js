"use strict";Object.defineProperty(exports,"t",{value:!0});const e=require("@nestjs/core"),t=require("@nestjs/common"),o=require("@nestjs/swagger"),s=require("path"),a=require("./app.module"),i=require("./common/constants/config");async function n(){const n=await e.NestFactory.create(a.AppModule),r=new t.Logger("Bootstrap"),c="production"===process.env.NODE_ENV?(0,s.join)(__dirname,"views"):(0,s.join)(process.cwd(),"src","views");n.setBaseViewsDir(c),n.setViewEngine("ejs"),r.log("Views directory: "+c),n.useGlobalPipes(new t.ValidationPipe({transform:!0,whitelist:!0,forbidNonWhitelisted:!0}));const w=(new o.DocumentBuilder).setTitle("EzPay Auto API").setDescription("Automated withdrawal processing service with HC BOX integration").setVersion("1.0").addTag("bank","Bank operations").addTag("withdrawal","Withdrawal processing").addTag("device","Device management").addTag("hcbox","HC Box integration").build(),d=o.SwaggerModule.createDocument(n,w);o.SwaggerModule.setup("docs",n,d);const l=process.env.PORT||3002;r.log(`üìö Swagger documentation available at: http://localhost:${l}/docs`),await n.listen(l),r.log("üöÄ EzPay Auto is running on: http://localhost:"+l),r.log(`üìä Withdrawal processing started by ${i.config.boxType} box`),r.log("üåê Device management: http://localhost:"+l)}n();